clear;clc;close all
fun = @(x)max([prod(diag(x)),...
    prod(diag(flip(x))),...
    prod(x),prod(x')]);
s3 = max(nlfilter(readmatrix("data.txt"),[4 4],fun),[],'all')
